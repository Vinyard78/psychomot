<!DOCTYPE html>
<html>
	<head>

	</head>
	<body>
		<canvas id="canvas">
		    <p>Désolé, votre navigateur ne supporte pas Canvas. Mettez-vous à jour</p>
		</canvas>
		<script>
			var canvas  = document.querySelector('#canvas');
			canvas.width = 700;
			canvas.height = 700;
			var context = canvas.getContext('2d');

			function Examen(nom, resultat, moyenne, ecartType) {
				this.nom = nom;
				this.resultat = resultat;
				this.moyenne = moyenne;
				this.ecartType = ecartType;
			}

			var data = [
				new Examen("test1",34,40,3),
				new Examen("test2",22,39,4),
				new Examen("test3",17,15,2),
				new Examen("test4",40,30,1),
				new Examen("test5",36,35,3),
				new Examen("test6",33,32,5)
			];

			// Point qui se situe au milieu du canvas
			var middlePoint = {
				x : canvas.width/2,
				y : canvas.height/2
			};

			const FACTOR = 200;

			var start = {
				x : middlePoint.x, 
				y : middlePoint.y - FACTOR
			};

			/** 
			 * Fonction qui permet de donner les coordonnées d'un point suivant un angle donné sur le cercle trigonométrique 
			 * par rapport à un point de départ situé en haut du cercle trigo (rotation positive vers la gauche).
			 * 
			 * x et y sont les coordonnées du point de départ
			 * value est l'angle (ex: Math.PI/4)
			 * factor est le facteur d'agrandissement
			 */
			function convert(value, x, y, factor) {

				x = typeof(x) === "number" ? x : 0;
				y = typeof(y) === "number" ? y : 0;
				factor = typeof(factor) === "number" ? factor : 1;
				value = typeof(value) === "number" ? value : 0;

				var result = {
					x : x - factor * (Math.sin(value)),
					y : y + factor * (1 - Math.cos(value))
				};

				return result;
			}	

			//context.lineWidth="2";
			context.fillStyle = "rgba(23, 145, 167, 0.5)";
			context.beginPath();

			// Point de départ du tracé
			context.moveTo(start.x, start.y);

			for(var i = 0, length = data.length; i < length; i++ ){
				var value = convert(i * 2 * Math.PI / data.length, start.x, start.y, FACTOR);
				context.lineTo(value.x,value.y);
			}

			context.closePath();
			context.fill();



		</script>
	</body>
</html>